# Redis configuration
# Socket-only, local-only, no TCP
# Secrets are injected at runtime by redis-wrapper.sh

# Disable TCP completely
port 0
bind 127.0.0.1 ::1

# Enable UNIX socket
unixsocket /run/redis/redis.sock
unixsocketperm 770

# Security
protected-mode yes
timeout 0
tcp-keepalive 300

# Persistence (WordPress object cache is disposable)
save ""
appendonly no

# Memory policy (safe default)
maxmemory-policy allkeys-lru

# Supervision
daemonize no
supervised systemd

# Working directory
dir /var/lib/redis

# Logging
loglevel notice
logfile ""
